@model ReliDemo.ViewModels.HeatSourceViewModel

@{
    ViewBag.Title = "BasicInfo";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<p>
    @Html.ActionLink("返回热源厂列表", "Index")
</p>
<div class="row-fluid clearfix stationTitle"">
<h1 class="span3">@Model.HeatSource.热源名称</h1>
<div onDesktop="span4" onTablet="span6" onMobile="span12">@Html.Partial("_TopNav")</div>
</div>

<div class="row-fluid">
	<div class="box" onDesktop="span6" onTablet="span12">
		<div class="box-header">
		<h2><i class="icon-list"></i>基本信息</h2>
		</div>
		<div class="box-content" style="padding:25px">
			<table class="table table-bordered table-condensed">
			<tr>
			<th>热源名称</th><td colspan="3">@Model.HeatSource.热源名称</td>
			</tr>
			<tr>
			<th>区域</th><td>@Model.HeatSource.东西部</td>
			<th>组合方式</th><td>@Model.HeatSource.内外部</td>
			</tr>
			<tr>
			<th>机组总数</th><td>0</td>
			<th>机组类型</th><td>@Model.HeatSource.机组类型</td>
			</tr>
			<tr>
			<th>燃煤尖峰炉</th><td>@Model.HeatSource.燃煤尖峰炉数</td>
			<th>燃气尖峰炉</th><td>@Model.HeatSource.燃气尖峰炉数</td>
			</tr>
			<tr>
			<th>水线名称</th><td>@Model.HeatSource.水线名称</td>
			<th>蒸汽线名称</th><td>@Model.HeatSource.蒸汽线名称</td>
			</tr>
			</table>
		</div>
	</div><!--box--><!--span-->
	<div class="box" onDesktop="span6" onTablet="span12">
		<div class="box-header">
		<h2><i class="icon-fire"></i>供热能力</h2>
		</div>
		<div class="box-content">
			<div class="row-fluid">
				<div class="span4">
				<table class="table table-bordered table-condensed">
					<tr><th>供热能力(GJ/h)</th></tr>
					<tr><td>1000</td></tr>
					<tr><th>已出力(GJ/h)</th></tr>
					<tr><td>1000</td></tr>
					<tr><th>出力％</th></tr>
					<tr><td>50</td></tr>
				</table>
				</div>
				<div class="span8">
					<div id="heatsoursechart" style="height:150px">
					</div>
				</div>
			</div>
			
		</div>
	</div>
</div><!--row-->
<div class="box" >
		<div class="box-header">
		<h2><i class="icon-tag"></i>机组列表及单价修改</h2>
		</div>
		<div class="box-content">
			<table  class="table table-bordered table-condensed">
			<tr>
			<th>机组名</th>
			<th>机组号</th>
			<th>供暖季热价<span class="symbol">(元)</span></th>
			<th>今日热价<span class="symbol">(元)</span></th>
			<th>昨日热价<span class="symbol">(元)</span></th>
			<th>本小时热价<span class="symbol">(元)</span></th>
			<th>上小时热价<span class="symbol">(元)</span></th>
			<th>单价（元/GJ)</th>
			</tr>
            @foreach (var recent in @Model.HeatSource.HeatSourceRecents)
            {
                <tr>
                    <td>@recent.机组名</td>
                    <td>@recent.机组号</td>
                    <td>@recent.供暖季热价</td>
                    <td>@recent.今日热价</td>
                    <td>@recent.昨日热价</td>
                    <td>@recent.本小时热价</td>
                    <td>@recent.上小时热价</td>
                    <td>@recent.单价</td>
                </tr>
            }
			</table>
			<p style="margin-top:10px"><input type="submit" class="btn btn-primary" value="修改单价" /></p>
		</div>
	</div><!--box--><!--span-->
<div class="box">
	<div class="box-header">
	<h2><i class="icon-eye-open"></i>机组实时监测</h2>
	</div>
	<div class="box-content">
		<table class="table table-bordered table-hover  table-condensed">
		<tr>
		<th>机组名</th>
		<th>机组号</th>
		<th>供温<span class="symbol">(℃)</span></th>
		<th>回温<span class="symbol">(℃)</span></th>
		<th>供压<span class="symbol">(MPa)</span></th>
		<th>回压<span class="symbol">(MPa)</span></th>
		<th>累计供水流量 <span class="symbol">(t)</span></th>
        <th>累计回水流量<span class="symbol">(t)</span></th>
		<th>累计供水热量<span class="symbol">(GJ)</span></th>
        <th>累计回水热量<span class="symbol">(GJ)</span></th>
		<th>累计热量<span class="symbol">(GJ)</span></th>
		<th>瞬时供水流量<span class="symbol">(t/h)</span></th>
        <th>瞬时回水流量<span class="symbol">(t/h)</span></th>
		<th>瞬时供水热量<span class="symbol">(GJ/h)</span></th>
        <th>瞬时回水热量<span class="symbol">(GJ/h)</span></th>
		<th>瞬时热量<span class="symbol">(GJ/h)</span></th>
		<th>瞬时补水量<span class="symbol">(t)</span></th>
		<th>累计补水量<span class="symbol">(t)</span></th>
		<th>采集时间</th>

        @foreach (var history in Model.HeatSource.HeatSourceRecents)
        {
            <tr>
                <td>@history.机组名</td>
                <td>@history.机组号</td>
                <td>@history.供温</td>
                <td>@history.回温</td>
                <td>@history.供压</td>
                <td>@history.回压</td>
                <td>@history.累计供水流量</td>
                <td>@history.累计回水流量</td>
                <td>@history.累计供水热量</td>
                <td>@history.累计回水热量</td>
                <td>@history.累计热量</td>
                <td>@history.瞬时供水流量</td>
                <td>@history.瞬时回水流量</td>
                <td>@history.瞬时供水热量</td>
                <td>@history.瞬时回水热量</td>
                <td>@history.瞬时热量</td>
                <td>@history.瞬时补水量</td>
                <td>@history.累计补水量</td>
                <td>@history.采集时间</td>
            </tr>
        }
		</tr>
		</table>
	</div>
</div><!--box-->

<script>
$(function () {
        var data = [ {label: "已出力(GJ/h)", data:1000},{label: "剩余供热能力(GJ/h)", data:1000}];



        $.plot('#heatsoursechart', data, {
            series: {
                pie: {
                    show: true
                }
            }
        });
    });
</script>